<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SketchShop — Buy & Commission Drawings</title>
  <style>
    :root{--accent:#6c5ce7;--bg:#f7f7fb}
    body{font-family:Inter, system-ui, Arial; margin:0; background:var(--bg); color:#111}
    header{background:#fff; padding:18px 24px; box-shadow:0 1px 6px rgba(12,12,20,.06); display:flex;align-items:center;justify-content:space-between}
    h1{margin:0;font-size:20px;color:var(--accent)}
    .container{max-width:1000px;margin:28px auto;padding:0 20px}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:18px}
    .card{background:#fff;border-radius:12px;padding:14px;box-shadow:0 4px 18px rgba(15,15,30,.05)}
    img{width:100%;height:150px;object-fit:cover;border-radius:8px}
    .price{font-weight:700}
    button{background:var(--accent);color:#fff;border:0;padding:8px 12px;border-radius:8px;cursor:pointer}
    .mini{font-size:13px;padding:6px 8px}
    .cart{position:fixed;right:20px;bottom:20px;background:var(--accent);color:white;padding:12px;border-radius:12px;box-shadow:0 8px 30px rgba(60,40,120,.18)}
    .panel{background:#fff;padding:18px;border-radius:12px;box-shadow:0 8px 30px rgba(10,10,20,.06)}
    form{display:grid;gap:8px}
    input,textarea,select{padding:8px;border-radius:8px;border:1px solid #e6e6f2}
    footer{padding:20px;text-align:center;color:#666;font-size:13px}
  </style>
</head>
<body>
  <header>
    <h1>SketchShop</h1>
    <div>
      <input id="search" placeholder="Search drawings..." style="padding:8px;border-radius:8px;border:1px solid #e6e6f2" />
    </div>
  </header>

  <main class="container">
    <section>
      <h2 style="margin-top:0">Available Prints</h2>
      <div class="grid" id="products"></div>
    </section>

    <section style="margin-top:28px">
      <h2>Commission a Custom Drawing</h2>
      <div class="panel">
        <form id="commissionForm">
          <label>Title</label>
          <input id="c_title" placeholder="E.g. Portrait of my dog" required />

          <label>Description / Instructions</label>
          <textarea id="c_desc" placeholder="Describe pose, style, colors, size..." rows="4"></textarea>

          <label>Reference image (optional)</label>
          <input id="c_file" type="file" accept="image/*" />

          <label>Budget (USD)</label>
          <input id="c_price" type="number" placeholder="e.g. 30" min="5" />

          <label>Your email</label>
          <input id="c_email" type="email" placeholder="you@example.com" required />

          <div style="display:flex;gap:8px;align-items:center;margin-top:8px">
            <button type="submit">Submit Commission</button>
            <div style="font-size:13px;color:#666">We'll email you a confirmation (mock)</div>
          </div>
        </form>
      </div>
    </section>

  </main>

  <div class="cart" id="cartBtn">Cart (<span id="cartCount">0</span>)</div>

  <!-- Cart modal (simple) -->
  <div id="cartModal" style="display:none;position:fixed;right:20px;bottom:80px;width:320px">
    <div class="panel">
      <h3>Cart</h3>
      <div id="cartItems"></div>
      <div style="margin-top:12px;display:flex;justify-content:space-between;align-items:center">
        <strong>Total: $<span id="cartTotal">0.00</span></strong>
        <button id="checkoutBtn" class="mini">Checkout (Mock)</button>
      </div>
    </div>
  </div>

  <footer>Starter demo — not connected to payments. Want Stripe/PayPal integration or a React version? Tell me.</footer>

<script>
  // Sample product data (replace with server data in production)
  const PRODUCTS = [
    {id:1,title:'Forest Study',price:20,src:'https://picsum.photos/seed/1/600/400'},
    {id:2,title:'City Line',price:30,src:'https://picsum.photos/seed/2/600/400'},
    {id:3,title:'Portrait Sketch',price:25,src:'https://picsum.photos/seed/3/600/400'},
    {id:4,title:'Cat study',price:18,src:'https://picsum.photos/seed/4/600/400'},
    {id:5,title:'Abstract ink',price:15,src:'https://picsum.photos/seed/5/600/400'}
  ];

  const cart = [];
  const productsEl = document.getElementById('products');
  const cartCount = document.getElementById('cartCount');
  const cartBtn = document.getElementById('cartBtn');
  const cartModal = document.getElementById('cartModal');
  const cartItems = document.getElementById('cartItems');
  const cartTotal = document.getElementById('cartTotal');

  function renderProducts(list){
    productsEl.innerHTML = '';
    list.forEach(p=>{
      const card = document.createElement('div'); card.className='card';
      card.innerHTML = `
        <img src="${p.src}" alt="${p.title}" />
        <h4 style="margin:8px 0 4px">${p.title}</h4>
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div class="price">$${p.price}</div>
          <button onclick="addToCart(${p.id})">Buy</button>
        </div>
      `;
      productsEl.appendChild(card);
    });
  }

  function addToCart(id){
    const p = PRODUCTS.find(x=>x.id===id);
    const slot = cart.find(x=>x.id===id);
    if(slot) slot.qty++;
    else cart.push({id:p.id,title:p.title,price:p.price,qty:1});
    updateCartUI();
    alert('Added to cart — demo only');
  }

  function updateCartUI(){
    cartCount.textContent = cart.reduce((s,i)=>s+i.qty,0);
    cartItems.innerHTML = '';
    cart.forEach(it=>{
      const div = document.createElement('div');
      div.style.display='flex';div.style.justifyContent='space-between';div.style.padding='6px 0';
      div.innerHTML = `<div>${it.title} x${it.qty}</div><div>$${(it.price*it.qty).toFixed(2)}</div>`;
      cartItems.appendChild(div);
    });
    cartTotal.textContent = cart.reduce((s,i)=>s+i.price*i.qty,0).toFixed(2);
  }

  cartBtn.addEventListener('click',()=>{ cartModal.style.display = cartModal.style.display==='none'?'block':'none'; });
  document.getElementById('checkoutBtn').addEventListener('click',()=>{
    if(cart.length===0){alert('Cart empty');return}
    // MOCK checkout — in production replace with Stripe/PayPal/Server API
    alert('This is a mock checkout. To accept payments connect Stripe or PayPal.');
  });

  // Commission form handling (demo only)
  document.getElementById('commissionForm').addEventListener('submit', async (e)=>{
    e.preventDefault();
    const data = {
      title:document.getElementById('c_title').value,
      desc:document.getElementById('c_desc').value,
      price:document.getElementById('c_price').value,
      email:document.getElementById('c_email').value,
      time:new Date().toISOString()
    };
    console.log('Commission submitted (demo):',data);
    alert('Commission submitted (demo). In a real site this creates an order and emails you.');
    e.target.reset();
  });

  // Search
  document.getElementById('search').addEventListener('input',(e)=>{
    const q = e.target.value.toLowerCase();
    renderProducts(PRODUCTS.filter(p=>p.title.toLowerCase().includes(q)));
  });

  // initial render
  renderProducts(PRODUCTS);
</script>
</body>
</html>
